<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>B√†i 7: CSS Performance & Optimization</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }
        
        h1 {
            color: #2d3436;
            text-align: center;
            font-size: 2.5em;
            margin-bottom: 10px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }
        
        .subtitle {
            text-align: center;
            color: #636e72;
            font-size: 1.2em;
            margin-bottom: 40px;
        }
        
        .section {
            margin: 40px 0;
            padding: 30px;
            background: #f8f9fa;
            border-radius: 15px;
            border-left: 5px solid #667eea;
        }
        
        .section-title {
            color: #2d3436;
            font-size: 1.5em;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .section-number {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
        }
        
        .code-example {
            background: #2d3748;
            color: #e2e8f0;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            overflow-x: auto;
            font-family: 'Courier New', monospace;
            white-space: pre-wrap;
        }
        
        .demo-container {
            border: 2px solid #667eea;
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            background: #fff;
            position: relative;
        }
        
        .performance-metric {
            background: linear-gradient(135deg, #00b894, #00cec9);
            color: white;
            padding: 15px;
            border-radius: 10px;
            margin: 10px 0;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .metric-value {
            font-weight: bold;
            font-size: 1.2em;
        }
        
        /* Demo 1: CSS Optimization Examples */
        .optimized-css {
            /* Efficient selectors */
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 10px;
            /* Use transform instead of changing layout properties */
            transition: transform 0.3s ease;
        }
        
        .optimized-css:hover {
            /* ‚úÖ Good - Only affects composite layer */
            transform: translateY(-5px) scale(1.02);
        }
        
        /* Avoid expensive properties */
        .expensive-animation {
            background: linear-gradient(135deg, #fd79a8, #fdcb6e);
            color: white;
            padding: 20px;
            border-radius: 10px;
            /* ‚ùå Bad - Causes layout recalculation */
            transition: width 0.3s ease, height 0.3s ease, margin 0.3s ease;
            width: 200px;
            height: 100px;
        }
        
        .expensive-animation:hover {
            width: 220px;
            height: 110px;
            margin-left: 10px;
        }
        
        /* Demo 2: Critical CSS */
        .above-fold {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 30px;
            border-radius: 15px;
            text-align: center;
            /* Critical styles - should be inlined */
        }
        
        /* Demo 3: CSS Containment */
        .contained-component {
            contain: layout style paint;
            background: linear-gradient(135deg, #a29bfe, #6c5ce7);
            color: white;
            padding: 20px;
            border-radius: 10px;
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
            gap: 15px;
        }
        
        .contained-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            transition: transform 0.3s ease;
        }
        
        .contained-item:hover {
            transform: scale(1.1);
        }
        
        /* Demo 4: Efficient Animations */
        @keyframes efficient-bounce {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-20px); }
        }
        
        .efficient-animation {
            background: linear-gradient(135deg, #00b894, #00cec9);
            color: white;
            width: 80px;
            height: 80px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px;
            /* Use will-change for optimization hint */
            will-change: transform;
            animation: efficient-bounce 2s ease-in-out infinite;
        }
        
        /* Demo 5: CSS Loading Strategies */
        .critical-content {
            background: linear-gradient(135deg, #fd79a8, #fdcb6e);
            color: white;
            padding: 25px;
            border-radius: 12px;
            text-align: center;
            margin-bottom: 20px;
        }
        
        .non-critical-content {
            background: #f1f3f4;
            padding: 20px;
            border-radius: 10px;
            /* This could be loaded asynchronously */
            opacity: 0;
            animation: fadeIn 0.5s ease-in forwards;
            animation-delay: 0.3s;
        }
        
        @keyframes fadeIn {
            to { opacity: 1; }
        }
        
        /* Demo 6: Performance Monitoring */
        .performance-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }
        
        .performance-card {
            background: linear-gradient(135deg, #667eea, #764ba2);
            color: white;
            padding: 20px;
            border-radius: 12px;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .performance-card::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 3px;
            background: linear-gradient(90deg, #00ff00, #ffff00, #ff0000);
        }
        
        /* Demo 7: Optimized Media Queries */
        .responsive-container {
            background: linear-gradient(135deg, #74b9ff, #0984e3);
            color: white;
            padding: 20px;
            border-radius: 10px;
            display: grid;
            gap: 15px;
            /* Mobile-first approach */
            grid-template-columns: 1fr;
        }
        
        /* Use efficient breakpoints */
        @media (min-width: 640px) {
            .responsive-container {
                grid-template-columns: repeat(2, 1fr);
            }
        }
        
        @media (min-width: 1024px) {
            .responsive-container {
                grid-template-columns: repeat(3, 1fr);
            }
        }
        
        .responsive-item {
            background: rgba(255, 255, 255, 0.2);
            padding: 15px;
            border-radius: 8px;
            text-align: center;
        }
        
        /* Performance Testing Tools */
        .benchmark-container {
            background: #e9ecef;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
        }
        
        .benchmark-button {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 6px;
            cursor: pointer;
            margin: 5px;
            transition: all 0.3s ease;
        }
        
        .benchmark-button:hover {
            background: #5a67d8;
            transform: translateY(-2px);
        }
        
        .benchmark-results {
            background: white;
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            border-left: 4px solid #00b894;
        }
        
        /* Resource Loading Demo */
        .loading-demo {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .loading-card {
            background: linear-gradient(135deg, #a29bfe, #6c5ce7);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
            position: relative;
        }
        
        .loading-skeleton {
            background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
            background-size: 200% 100%;
            animation: loading 1.5s infinite;
            border-radius: 4px;
            height: 20px;
            margin: 10px 0;
        }
        
        @keyframes loading {
            0% { background-position: 200% 0; }
            100% { background-position: -200% 0; }
        }
        
        /* CSS Metrics Display */
        .metrics-dashboard {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
            gap: 15px;
            margin: 20px 0;
        }
        
        .metric-box {
            background: linear-gradient(135deg, #00b894, #00cec9);
            color: white;
            padding: 20px;
            border-radius: 10px;
            text-align: center;
        }
        
        .metric-number {
            font-size: 2em;
            font-weight: bold;
            display: block;
        }
        
        .metric-label {
            font-size: 0.9em;
            opacity: 0.9;
        }
        
        .navigation {
            text-align: center;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 2px solid #e9ecef;
        }
        
        .nav-button {
            display: inline-block;
            padding: 12px 25px;
            margin: 0 10px;
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
            text-decoration: none;
            border-radius: 25px;
            transition: all 0.3s ease;
            font-weight: 500;
        }
        
        .nav-button:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(102, 126, 234, 0.4);
        }
        
        .nav-button.secondary {
            background: #6c757d;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>‚ö° B√†i 7: CSS Performance & Optimization</h1>
        <p class="subtitle">T·ªëi ∆∞u CSS cho performance, loading speed v√† rendering efficiency</p>
        
        <!-- Section 1: CSS Performance Basics -->
        <div class="section">
            <h2 class="section-title">
                <span class="section-number">1</span>
                CSS Performance Fundamentals
            </h2>
            <p>Hi·ªÉu r√µ browser rendering pipeline v√† c√°ch CSS ·∫£nh h∆∞·ªüng ƒë·∫øn performance.</p>
            
            <div class="code-example">
/* ‚úÖ Efficient CSS - Affects only composite layer */
.good-animation {
    transition: transform 0.3s ease, opacity 0.3s ease;
}

.good-animation:hover {
    transform: translateY(-5px) scale(1.02);
    opacity: 0.9;
}

/* ‚ùå Expensive CSS - Triggers layout recalculation */
.bad-animation {
    transition: width 0.3s ease, height 0.3s ease, margin 0.3s ease;
}

.bad-animation:hover {
    width: 220px;    /* Forces layout */
    height: 110px;   /* Forces layout */
    margin-left: 10px; /* Forces layout */
}
            </div>
            
            <div class="demo-container">
                <h4>üöÄ Performance Comparison:</h4>
                <div style="display: flex; gap: 20px; flex-wrap: wrap; margin-top: 15px;">
                    <div class="optimized-css" style="flex: 1; min-width: 200px;">
                        <h4>‚úÖ Optimized Animation</h4>
                        <p>Transform + Opacity only</p>
                        <small>60fps smooth</small>
                    </div>
                    <div class="expensive-animation" style="flex: 1; min-width: 200px;">
                        <h4>‚ùå Expensive Animation</h4>
                        <p>Layout properties</p>
                        <small>Causes jank</small>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Section 2: Critical CSS -->
        <div class="section">
            <h2 class="section-title">
                <span class="section-number">2</span>
                Critical CSS & Loading Strategies
            </h2>
            <p>T·ªëi ∆∞u loading v·ªõi critical CSS, async loading v√† resource hints.</p>
            
            <div class="code-example">
&lt;!-- Critical CSS - Inline trong &lt;head&gt; --&gt;
&lt;style&gt;
/* Above-the-fold styles */
.header, .hero, .nav {
    /* Critical styles here */
}
&lt;/style&gt;

&lt;!-- Non-critical CSS - Load async --&gt;
&lt;link rel="preload" href="non-critical.css" as="style" onload="this.onload=null;this.rel='stylesheet'"&gt;

&lt;!-- Resource hints for performance --&gt;
&lt;link rel="dns-prefetch" href="//fonts.googleapis.com"&gt;
&lt;link rel="preconnect" href="//fonts.gstatic.com" crossorigin&gt;
&lt;link rel="prefetch" href="next-page.css"&gt;
            </div>
            
            <div class="demo-container">
                <div class="critical-content">
                    <h3>üéØ Critical Content (Above-the-fold)</h3>
                    <p>This content should be styled with critical CSS for immediate rendering</p>
                </div>
                
                <div class="non-critical-content">
                    <h4>üì¶ Non-critical Content</h4>
                    <p>This content can be styled with async-loaded CSS</p>
                </div>
                
                <div class="loading-demo">
                    <div class="loading-card">
                        <h4>üîÑ Loading State</h4>
                        <div class="loading-skeleton"></div>
                        <div class="loading-skeleton" style="width: 70%;"></div>
                    </div>
                    <div class="loading-card">
                        <h4>üìà Performance Metrics</h4>
                        <p>LCP: 1.2s</p>
                        <p>FID: 50ms</p>
                        <p>CLS: 0.05</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Section 3: CSS Containment -->
        <div class="section">
            <h2 class="section-title">
                <span class="section-number">3</span>
                CSS Containment & Isolation
            </h2>
            <p>S·ª≠ d·ª•ng CSS containment ƒë·ªÉ isolate performance impacts.</p>
            
            <div class="code-example">
/* CSS Containment - Isolate rendering costs */
.component {
    contain: layout style paint;
    /* contain: strict; - Applies all containment */
}

/* Size containment */
.fixed-size {
    contain: size;
    width: 300px;
    height: 200px;
}

/* Layout containment */
.isolated-layout {
    contain: layout;
    /* Layout changes won't affect parent */
}

/* Paint containment */
.paint-boundary {
    contain: paint;
    /* Ensures paint doesn't overflow */
}
            </div>
            
            <div class="demo-container">
                <h4>üèóÔ∏è CSS Containment Demo:</h4>
                <div class="contained-component">
                    <div class="contained-item">
                        <h5>üì¶ Item 1</h5>
                        <p>Isolated rendering</p>
                    </div>
                    <div class="contained-item">
                        <h5>üì¶ Item 2</h5>
                        <p>Independent paint</p>
                    </div>
                    <div class="contained-item">
                        <h5>üì¶ Item 3</h5>
                        <p>Layout containment</p>
                    </div>
                    <div class="contained-item">
                        <h5>üì¶ Item 4</h5>
                        <p>Performance boost</p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Section 4: Efficient Animations -->
        <div class="section">
            <h2 class="section-title">
                <span class="section-number">4</span>
                Performance-Optimized Animations
            </h2>
            <p>T·∫°o animations m∆∞·ª£t m√† 60fps v·ªõi GPU acceleration.</p>
            
            <div class="code-example">
/* ‚úÖ GPU-accelerated animations */
.smooth-element {
    will-change: transform;
    transition: transform 0.3s ease;
}

.smooth-element:hover {
    transform: translateZ(0) scale(1.1); /* Force GPU layer */
}

/* ‚úÖ Efficient keyframes */
@keyframes optimized-bounce {
    0%, 100% { transform: translateY(0); }
    50% { transform: translateY(-20px); }
}

/* ‚ùå Avoid animating these properties */
.avoid {
    /* width, height, margin, padding, border */
    /* top, left, right, bottom */
    /* font-size (use transform: scale instead) */
}

/* üöÄ Use these instead */
.prefer {
    transform: translateX() translateY() scale() rotate();
    opacity: 0-1;
    filter: blur() brightness() contrast();
}
            </div>
            
            <div class="demo-container">
                <div style="display: flex; justify-content: center; align-items: center; gap: 30px; flex-wrap: wrap;">
                    <div class="efficient-animation">
                        <strong>60fps</strong>
                    </div>
                    <div style="text-align: center;">
                        <h4>‚ö° GPU-Accelerated Animation</h4>
                        <p>Using transform + will-change</p>
                        <p style="color: #00b894;"><strong>Smooth 60fps performance</strong></p>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Section 5: CSS Metrics & Monitoring -->
        <div class="section">
            <h2 class="section-title">
                <span class="section-number">5</span>
                Performance Metrics & Monitoring
            </h2>
            <p>ƒêo l∆∞·ªùng v√† monitor CSS performance v·ªõi Web Vitals.</p>
            
            <div class="code-example">
/* Performance monitoring v·ªõi CSS */
.monitor-layout {
    /* Use CSS custom properties for dynamic values */
    --layout-shift: 0;
    --paint-time: 0;
}

/* Optimize for Core Web Vitals */
.lcp-optimized {
    /* Largest Contentful Paint optimization */
    content-visibility: auto;
    contain-intrinsic-size: 300px;
}

.cls-safe {
    /* Cumulative Layout Shift prevention */
    width: 100%;
    height: auto;
    aspect-ratio: 16/9;
}

/* First Input Delay optimization */
.fid-optimized {
    /* Reduce JavaScript blocking */
    will-change: transform;
    pointer-events: none;
}
            </div>
            
            <div class="demo-container">
                <h4>üìä Performance Metrics Dashboard:</h4>
                <div class="metrics-dashboard">
                    <div class="metric-box">
                        <span class="metric-number" id="lcp-score">1.2s</span>
                        <span class="metric-label">LCP</span>
                    </div>
                    <div class="metric-box">
                        <span class="metric-number" id="fid-score">45ms</span>
                        <span class="metric-label">FID</span>
                    </div>
                    <div class="metric-box">
                        <span class="metric-number" id="cls-score">0.05</span>
                        <span class="metric-label">CLS</span>
                    </div>
                    <div class="metric-box">
                        <span class="metric-number" id="css-size">24KB</span>
                        <span class="metric-label">CSS Size</span>
                    </div>
                </div>
                
                <div class="benchmark-container">
                    <h4>üß™ Performance Testing:</h4>
                    <button class="benchmark-button" onclick="runPerformanceTest()">üöÄ Run CSS Performance Test</button>
                    <button class="benchmark-button" onclick="analyzeLayout()">üìê Analyze Layout Performance</button>
                    <button class="benchmark-button" onclick="measureAnimations()">üé¨ Measure Animation FPS</button>
                    
                    <div class="benchmark-results" id="test-results" style="display: none;">
                        <h5>üìà Test Results:</h5>
                        <div id="results-content"></div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Section 6: Responsive Performance -->
        <div class="section">
            <h2 class="section-title">
                <span class="section-number">6</span>
                Responsive Performance Optimization
            </h2>
            <p>T·ªëi ∆∞u responsive design cho multiple devices v√† connection speeds.</p>
            
            <div class="code-example">
/* Mobile-first performance optimization */
.responsive-grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 1rem;
}

/* Efficient breakpoints */
@media (min-width: 640px) {
    .responsive-grid {
        grid-template-columns: repeat(2, 1fr);
    }
}

@media (min-width: 1024px) {
    .responsive-grid {
        grid-template-columns: repeat(3, 1fr);
    }
}

/* Connection-aware loading */
@media (prefers-reduced-motion: reduce) {
    * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
    }
}

/* Dark mode performance */
@media (prefers-color-scheme: dark) {
    :root {
        --bg: #1a1a1a;
        --text: #ffffff;
    }
}
            </div>
            
            <div class="demo-container">
                <h4>üì± Responsive Performance Demo:</h4>
                <div class="responsive-container">
                    <div class="responsive-item">
                        <h5>üì± Mobile</h5>
                        <p>Optimized for touch</p>
                        <small>Critical CSS only</small>
                    </div>
                    <div class="responsive-item">
                        <h5>üíª Desktop</h5>
                        <p>Enhanced features</p>
                        <small>Progressive enhancement</small>
                    </div>
                    <div class="responsive-item">
                        <h5>üåê Universal</h5>
                        <p>Core functionality</p>
                        <small>Works everywhere</small>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Section 7: Best Practices -->
        <div class="section">
            <h2 class="section-title">
                <span class="section-number">üí°</span>
                CSS Performance Best Practices
            </h2>
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 20px;">
                <div style="background: linear-gradient(135deg, #667eea, #764ba2); color: white; padding: 20px; border-radius: 10px;">
                    <h4>üöÄ Loading Optimization</h4>
                    <ul style="list-style: none; padding-left: 0; margin-top: 10px;">
                        <li>‚úÖ Inline critical CSS</li>
                        <li>‚úÖ Async non-critical CSS</li>
                        <li>‚úÖ Minimize HTTP requests</li>
                        <li>‚úÖ Compress CSS files</li>
                        <li>‚úÖ Use resource hints</li>
                    </ul>
                </div>
                
                <div style="background: linear-gradient(135deg, #74b9ff, #0984e3); color: white; padding: 20px; border-radius: 10px;">
                    <h4>‚ö° Rendering Performance</h4>
                    <ul style="list-style: none; padding-left: 0; margin-top: 10px;">
                        <li>‚úÖ Avoid layout thrashing</li>
                        <li>‚úÖ Use efficient selectors</li>
                        <li>‚úÖ Leverage CSS containment</li>
                        <li>‚úÖ Optimize animations</li>
                        <li>‚úÖ Use will-change sparingly</li>
                    </ul>
                </div>
                
                <div style="background: linear-gradient(135deg, #fd79a8, #fdcb6e); color: white; padding: 20px; border-radius: 10px;">
                    <h4>üìä Monitoring & Testing</h4>
                    <ul style="list-style: none; padding-left: 0; margin-top: 10px;">
                        <li>‚úÖ Measure Core Web Vitals</li>
                        <li>‚úÖ Use DevTools Timeline</li>
                        <li>‚úÖ Test on real devices</li>
                        <li>‚úÖ Monitor bundle sizes</li>
                        <li>‚úÖ Regular performance audits</li>
                    </ul>
                </div>
            </div>
        </div>
        
        <div class="navigation">
            <a href="06-modern-layout.html" class="nav-button secondary">‚Üê B√†i tr∆∞·ªõc: Modern Layout</a>
            <a href="index.html" class="nav-button secondary">Lab04 Home</a>
            <a href="08-final-project.html" class="nav-button">B√†i cu·ªëi: Final Project ‚Üí</a>
        </div>
    </div>
    
    <script>
        function runPerformanceTest() {
            const results = document.getElementById('test-results');
            const content = document.getElementById('results-content');
            
            // Simulate performance testing
            const tests = [
                { name: 'CSS Parse Time', value: Math.random() * 50 + 10, unit: 'ms' },
                { name: 'Layout Calculation', value: Math.random() * 20 + 5, unit: 'ms' },
                { name: 'Paint Time', value: Math.random() * 30 + 15, unit: 'ms' },
                { name: 'Composite Time', value: Math.random() * 10 + 2, unit: 'ms' }
            ];
            
            let html = '<div style="display: grid; gap: 10px;">';
            tests.forEach(test => {
                const score = test.value < 20 ? 'üü¢' : test.value < 40 ? 'üü°' : 'üî¥';
                html += `
                    <div style="display: flex; justify-content: space-between; align-items: center; padding: 8px; background: #f8f9fa; border-radius: 5px;">
                        <span>${score} ${test.name}</span>
                        <strong>${test.value.toFixed(1)}${test.unit}</strong>
                    </div>
                `;
            });
            html += '</div>';
            
            content.innerHTML = html;
            results.style.display = 'block';
        }
        
        function analyzeLayout() {
            const results = document.getElementById('test-results');
            const content = document.getElementById('results-content');
            
            content.innerHTML = `
                <div style="display: grid; gap: 10px;">
                    <div style="padding: 10px; background: #e8f5e8; border-radius: 5px;">
                        <strong>üü¢ Layout Performance: Good</strong><br>
                        <small>No unnecessary reflows detected</small>
                    </div>
                    <div style="padding: 10px; background: #fff3cd; border-radius: 5px;">
                        <strong>üü° Suggestions:</strong><br>
                        <small>‚Ä¢ Consider using CSS containment<br>
                        ‚Ä¢ Optimize complex selectors</small>
                    </div>
                </div>
            `;
            results.style.display = 'block';
        }
        
        function measureAnimations() {
            const results = document.getElementById('test-results');
            const content = document.getElementById('results-content');
            
            const fps = Math.floor(Math.random() * 10) + 55; // 55-65 fps
            const efficiency = fps >= 58 ? 'Excellent' : fps >= 55 ? 'Good' : 'Needs Improvement';
            const color = fps >= 58 ? '#e8f5e8' : fps >= 55 ? '#fff3cd' : '#f8d7da';
            
            content.innerHTML = `
                <div style="display: grid; gap: 10px;">
                    <div style="padding: 10px; background: ${color}; border-radius: 5px; text-align: center;">
                        <strong>üé¨ Animation FPS: ${fps}</strong><br>
                        <small>Performance: ${efficiency}</small>
                    </div>
                    <div style="padding: 10px; background: #f8f9fa; border-radius: 5px;">
                        <strong>üìä Animation Analysis:</strong><br>
                        <small>‚Ä¢ GPU Acceleration: ‚úÖ Active<br>
                        ‚Ä¢ Layout Thrashing: ‚ùå None detected<br>
                        ‚Ä¢ Composite Layers: 3 optimized</small>
                    </div>
                </div>
            `;
            results.style.display = 'block';
        }
        
        // Simulate real-time metrics updates
        function updateMetrics() {
            const lcp = document.getElementById('lcp-score');
            const fid = document.getElementById('fid-score');
            const cls = document.getElementById('cls-score');
            const cssSize = document.getElementById('css-size');
            
            // Simulate slight variations
            const baseLCP = 1.2;
            const baseFID = 45;
            const baseCLS = 0.05;
            const baseSize = 24;
            
            lcp.textContent = (baseLCP + (Math.random() - 0.5) * 0.2).toFixed(1) + 's';
            fid.textContent = Math.floor(baseFID + (Math.random() - 0.5) * 10) + 'ms';
            cls.textContent = (baseCLS + (Math.random() - 0.5) * 0.02).toFixed(3);
            cssSize.textContent = Math.floor(baseSize + (Math.random() - 0.5) * 4) + 'KB';
        }
        
        // Update metrics every 3 seconds
        setInterval(updateMetrics, 3000);
    </script>
</body>
</html>
