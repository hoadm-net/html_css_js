<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>JS04: Conditionals & Loops - Lab06 JavaScript Fundamentals</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        :root {
            --primary: #f7df1e;
            --secondary: #323330;
            --accent: #f0db4f;
            --text-dark: #2d2d2d;
            --text-light: #666;
            --bg-light: #fafafa;
            --border: #e0e0e0;
            --success: #4caf50;
            --warning: #ff9800;
            --danger: #f44336;
            --info: #2196f3;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            background: linear-gradient(135deg, #f7f9fc 0%, #f1f5f9 100%);
            padding: 20px;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.1);
        }

        .lesson-header {
            text-align: center;
            margin-bottom: 40px;
            padding: 30px;
            background: linear-gradient(135deg, var(--secondary), var(--primary));
            border-radius: 15px;
            color: white;
        }

        .lesson-header h1 {
            font-size: clamp(2rem, 4vw, 3rem);
            margin-bottom: 10px;
        }

        .lesson-header .lesson-number {
            background: rgba(255,255,255,0.2);
            padding: 8px 16px;
            border-radius: 20px;
            font-size: 0.9rem;
            margin-bottom: 15px;
            display: inline-block;
        }

        .section {
            margin: 40px 0;
            padding: 30px;
            background: var(--bg-light);
            border-radius: 15px;
            border-left: 5px solid var(--primary);
        }

        .section h2 {
            color: var(--text-dark);
            margin-bottom: 20px;
            font-size: clamp(1.3rem, 3vw, 1.8rem);
        }

        .section h3 {
            color: var(--secondary);
            margin: 25px 0 15px 0;
            font-size: 1.2rem;
        }

        .code-demo {
            background: var(--secondary);
            color: white;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            position: relative;
            overflow-x: auto;
        }

        .code-demo::before {
            content: "JavaScript";
            position: absolute;
            top: 5px;
            right: 10px;
            font-size: 0.7rem;
            color: var(--primary);
            opacity: 0.7;
        }

        .code-demo pre {
            margin: 0;
            font-family: 'Courier New', monospace;
            line-height: 1.6;
        }

        .code-comment {
            color: #68d391;
        }

        .code-string {
            color: #faf089;
        }

        .code-keyword {
            color: #63b3ed;
        }

        .code-number {
            color: #f6ad55;
        }

        .interactive-demo {
            background: white;
            border: 2px solid var(--info);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
        }

        .demo-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .demo-input {
            width: 100%;
            padding: 12px;
            border: 2px solid var(--border);
            border-radius: 8px;
            font-size: 1rem;
            margin: 10px 0;
        }

        .demo-button {
            background: var(--primary);
            color: var(--secondary);
            border: none;
            padding: 12px 24px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 5px;
        }

        .demo-button:hover {
            background: var(--accent);
            transform: translateY(-2px);
        }

        .demo-output {
            background: var(--secondary);
            color: var(--primary);
            padding: 15px;
            border-radius: 8px;
            margin-top: 15px;
            font-family: 'Courier New', monospace;
            min-height: 50px;
            border: 2px solid var(--primary);
            white-space: pre-wrap;
        }

        .flowchart {
            background: white;
            border: 2px solid var(--info);
            border-radius: 10px;
            padding: 20px;
            margin: 20px 0;
            text-align: center;
        }

        .flowchart-box {
            background: var(--bg-light);
            border: 2px solid var(--border);
            border-radius: 8px;
            padding: 15px;
            margin: 10px auto;
            max-width: 200px;
        }

        .flowchart-condition {
            background: var(--warning);
            color: white;
            transform: rotate(45deg);
            width: 100px;
            height: 100px;
            display: flex;
            align-items: center;
            justify-content: center;
            margin: 20px auto;
            border-radius: 10px;
        }

        .flowchart-condition span {
            transform: rotate(-45deg);
            font-weight: bold;
        }

        .arrow {
            font-size: 2rem;
            color: var(--info);
            margin: 10px 0;
        }

        .loop-visualization {
            background: linear-gradient(135deg, #e8f5e8, #f1f8e9);
            border: 2px solid var(--success);
            border-radius: 15px;
            padding: 25px;
            margin: 20px 0;
        }

        .loop-visualization h4 {
            color: var(--success);
            margin-bottom: 15px;
        }

        .loop-counter {
            background: var(--secondary);
            color: var(--primary);
            padding: 10px;
            border-radius: 5px;
            font-family: 'Courier New', monospace;
            margin: 10px 0;
            text-align: center;
        }

        .pattern-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 20px 0;
        }

        .pattern-card {
            background: white;
            border: 2px solid var(--border);
            border-radius: 10px;
            padding: 20px;
        }

        .pattern-card h4 {
            color: var(--info);
            margin-bottom: 15px;
        }

        .navigation {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-top: 40px;
            padding-top: 30px;
            border-top: 2px solid var(--border);
        }

        .nav-btn {
            display: inline-block;
            padding: 12px 25px;
            text-decoration: none;
            border-radius: 25px;
            font-weight: 600;
            transition: all 0.3s ease;
        }

        .nav-btn.prev {
            background: #6c757d;
            color: white;
        }

        .nav-btn.next {
            background: var(--primary);
            color: var(--secondary);
        }

        .nav-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0,0,0,0.2);
        }

        .nav-center {
            text-align: center;
        }

        .nav-center a {
            color: var(--info);
            text-decoration: none;
            font-weight: 500;
        }

        @media (max-width: 768px) {
            .container {
                padding: 20px;
                margin: 10px;
            }
            
            .navigation {
                flex-direction: column;
                gap: 15px;
            }
            
            .demo-grid,
            .pattern-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="lesson-header">
            <div class="lesson-number">Lesson JS04</div>
            <h1>🔄 Conditionals & Loops</h1>
            <p>Control the flow of your code with decision-making and repetition</p>
        </div>

        <!-- Conditional Statements -->
        <section class="section">
            <h2>🤔 Conditional Statements</h2>
            
            <p>Conditional statements allow your code để make decisions based on different conditions. They control which blocks of code execute.</p>

            <h3>if Statement</h3>
            <div class="code-demo">
                <pre><code><span class="code-comment">// Basic if statement</span>
<span class="code-keyword">let</span> age = <span class="code-number">18</span>;

<span class="code-keyword">if</span> (age >= <span class="code-number">18</span>) {
    <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">"You can vote!"</span>);
}

<span class="code-comment">// if...else statement</span>
<span class="code-keyword">if</span> (age >= <span class="code-number">18</span>) {
    <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">"You are an adult"</span>);
} <span class="code-keyword">else</span> {
    <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">"You are a minor"</span>);
}

<span class="code-comment">// if...else if...else statement</span>
<span class="code-keyword">let</span> score = <span class="code-number">85</span>;

<span class="code-keyword">if</span> (score >= <span class="code-number">90</span>) {
    <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">"Grade A"</span>);
} <span class="code-keyword">else if</span> (score >= <span class="code-number">80</span>) {
    <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">"Grade B"</span>);
} <span class="code-keyword">else if</span> (score >= <span class="code-number">70</span>) {
    <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">"Grade C"</span>);
} <span class="code-keyword">else</span> {
    <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">"Grade F"</span>);
}</code></pre>
            </div>

            <h3>switch Statement</h3>
            <div class="code-demo">
                <pre><code><span class="code-comment">// switch statement for multiple conditions</span>
<span class="code-keyword">let</span> day = <span class="code-string">"Monday"</span>;

<span class="code-keyword">switch</span> (day) {
    <span class="code-keyword">case</span> <span class="code-string">"Monday"</span>:
        <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">"Start of work week"</span>);
        <span class="code-keyword">break</span>;
    <span class="code-keyword">case</span> <span class="code-string">"Wednesday"</span>:
        <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">"Hump day!"</span>);
        <span class="code-keyword">break</span>;
    <span class="code-keyword">case</span> <span class="code-string">"Friday"</span>:
        <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">"TGIF!"</span>);
        <span class="code-keyword">break</span>;
    <span class="code-keyword">case</span> <span class="code-string">"Saturday"</span>:
    <span class="code-keyword">case</span> <span class="code-string">"Sunday"</span>:
        <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">"Weekend!"</span>);
        <span class="code-keyword">break</span>;
    <span class="code-keyword">default</span>:
        <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">"Regular day"</span>);
}</code></pre>
            </div>

            <div class="flowchart">
                <h4>Conditional Flow</h4>
                <div class="flowchart-box">Start</div>
                <div class="arrow">↓</div>
                <div class="flowchart-condition">
                    <span>Condition?</span>
                </div>
                <div style="display: flex; justify-content: space-around; align-items: center;">
                    <div>
                        <div>True</div>
                        <div class="arrow">↓</div>
                        <div class="flowchart-box">Execute Code Block</div>
                    </div>
                    <div>
                        <div>False</div>
                        <div class="arrow">↓</div>
                        <div class="flowchart-box">Skip Code Block</div>
                    </div>
                </div>
                <div class="arrow">↓</div>
                <div class="flowchart-box">Continue</div>
            </div>
        </section>

        <!-- Loops -->
        <section class="section">
            <h2>🔁 Loops</h2>
            
            <p>Loops allow you để repeat code multiple times. JavaScript has several types of loops cho different scenarios.</p>

            <h3>for Loop</h3>
            <div class="code-demo">
                <pre><code><span class="code-comment">// Basic for loop</span>
<span class="code-keyword">for</span> (<span class="code-keyword">let</span> i = <span class="code-number">0</span>; i < <span class="code-number">5</span>; i++) {
    <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">`Count: ${i}`</span>);
}

<span class="code-comment">// Counting backwards</span>
<span class="code-keyword">for</span> (<span class="code-keyword">let</span> i = <span class="code-number">5</span>; i > <span class="code-number">0</span>; i--) {
    <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">`Countdown: ${i}`</span>);
}

<span class="code-comment">// Loop through an array</span>
<span class="code-keyword">let</span> fruits = [<span class="code-string">"apple"</span>, <span class="code-string">"banana"</span>, <span class="code-string">"orange"</span>];
<span class="code-keyword">for</span> (<span class="code-keyword">let</span> i = <span class="code-number">0</span>; i < fruits.<span class="code-keyword">length</span>; i++) {
    <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">`Fruit ${i + 1}: ${fruits[i]}`</span>);
}</code></pre>
            </div>

            <h3>while Loop</h3>
            <div class="code-demo">
                <pre><code><span class="code-comment">// while loop - runs while condition is true</span>
<span class="code-keyword">let</span> count = <span class="code-number">0</span>;
<span class="code-keyword">while</span> (count < <span class="code-number">3</span>) {
    <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">`While count: ${count}`</span>);
    count++;
}

<span class="code-comment">// do...while loop - runs at least once</span>
<span class="code-keyword">let</span> num = <span class="code-number">0</span>;
<span class="code-keyword">do</span> {
    <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">`Do-while: ${num}`</span>);
    num++;
} <span class="code-keyword">while</span> (num < <span class="code-number">3</span>);</code></pre>
            </div>

            <h3>for...of và for...in Loops</h3>
            <div class="code-demo">
                <pre><code><span class="code-comment">// for...of loop - iterates over values</span>
<span class="code-keyword">let</span> colors = [<span class="code-string">"red"</span>, <span class="code-string">"green"</span>, <span class="code-string">"blue"</span>];
<span class="code-keyword">for</span> (<span class="code-keyword">let</span> color <span class="code-keyword">of</span> colors) {
    <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">`Color: ${color}`</span>);
}

<span class="code-comment">// for...in loop - iterates over keys/indices</span>
<span class="code-keyword">let</span> person = {name: <span class="code-string">"Alice"</span>, age: <span class="code-number">25</span>, city: <span class="code-string">"New York"</span>};
<span class="code-keyword">for</span> (<span class="code-keyword">let</span> key <span class="code-keyword">in</span> person) {
    <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(<span class="code-string">`${key}: ${person[key]}`</span>);
}</code></pre>
            </div>
        </section>

        <!-- Loop Control -->
        <section class="section">
            <h2>🛑 Loop Control</h2>
            
            <h3>break và continue</h3>
            <div class="code-demo">
                <pre><code><span class="code-comment">// break - exits the loop completely</span>
<span class="code-keyword">for</span> (<span class="code-keyword">let</span> i = <span class="code-number">0</span>; i < <span class="code-number">10</span>; i++) {
    <span class="code-keyword">if</span> (i === <span class="code-number">5</span>) {
        <span class="code-keyword">break</span>; <span class="code-comment">// Stop loop when i is 5</span>
    }
    <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(i); <span class="code-comment">// Prints 0, 1, 2, 3, 4</span>
}

<span class="code-comment">// continue - skips current iteration</span>
<span class="code-keyword">for</span> (<span class="code-keyword">let</span> i = <span class="code-number">0</span>; i < <span class="code-number">5</span>; i++) {
    <span class="code-keyword">if</span> (i === <span class="code-number">2</span>) {
        <span class="code-keyword">continue</span>; <span class="code-comment">// Skip when i is 2</span>
    }
    <span class="code-keyword">console</span>.<span class="code-keyword">log</span>(i); <span class="code-comment">// Prints 0, 1, 3, 4</span>
}</code></pre>
            </div>
        </section>

        <!-- Interactive Demos -->
        <section class="section">
            <h2>🎮 Interactive Demos</h2>
            
            <div class="demo-grid">
                <div class="interactive-demo">
                    <h4>🎯 Grade Calculator</h4>
                    <p>Enter a score (0-100) để see the grade:</p>
                    
                    <input type="number" id="scoreInput" class="demo-input" placeholder="Enter score (0-100)" min="0" max="100" value="85">
                    <button class="demo-button" onclick="calculateGrade()">Calculate Grade 📊</button>
                    
                    <div id="gradeOutput" class="demo-output">
                        Grade information will appear here...
                    </div>
                </div>

                <div class="interactive-demo">
                    <h4>🔢 Number Pattern Generator</h4>
                    <p>Generate different number patterns:</p>
                    
                    <input type="number" id="patternLimit" class="demo-input" placeholder="Enter limit (1-20)" min="1" max="20" value="5">
                    
                    <div>
                        <button class="demo-button" onclick="generatePattern('counting')">Counting</button>
                        <button class="demo-button" onclick="generatePattern('even')">Even Numbers</button>
                        <button class="demo-button" onclick="generatePattern('odd')">Odd Numbers</button>
                        <button class="demo-button" onclick="generatePattern('fibonacci')">Fibonacci</button>
                    </div>
                    
                    <div id="patternOutput" class="demo-output">
                        Pattern will appear here...
                    </div>
                </div>
            </div>

            <div class="interactive-demo">
                <h4>🎲 Interactive Loop Visualizer</h4>
                <p>See how different loops work:</p>
                
                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); gap: 10px;">
                    <input type="number" id="loopStart" class="demo-input" placeholder="Start" value="1">
                    <input type="number" id="loopEnd" class="demo-input" placeholder="End" value="5">
                    <input type="number" id="loopStep" class="demo-input" placeholder="Step" value="1">
                </div>
                
                <div>
                    <button class="demo-button" onclick="runForLoop()">for Loop</button>
                    <button class="demo-button" onclick="runWhileLoop()">while Loop</button>
                    <button class="demo-button" onclick="runDoWhileLoop()">do...while Loop</button>
                </div>
                
                <div id="loopOutput" class="demo-output">
                    Loop execution will appear here...
                </div>
            </div>
        </section>

        <!-- Common Patterns -->
        <section class="section">
            <h2>🎨 Common Loop Patterns</h2>
            
            <div class="pattern-grid">
                <div class="pattern-card">
                    <h4>🔍 Finding Elements</h4>
                    <div class="code-demo">
                        <pre><code><span class="code-keyword">let</span> numbers = [<span class="code-number">1, 3, 7, 9, 12</span>];
<span class="code-keyword">let</span> target = <span class="code-number">7</span>;
<span class="code-keyword">let</span> found = <span class="code-keyword">false</span>;

<span class="code-keyword">for</span> (<span class="code-keyword">let</span> i = <span class="code-number">0</span>; i < numbers.<span class="code-keyword">length</span>; i++) {
    <span class="code-keyword">if</span> (numbers[i] === target) {
        found = <span class="code-keyword">true</span>;
        <span class="code-keyword">break</span>;
    }
}</code></pre>
                    </div>
                </div>
                
                <div class="pattern-card">
                    <h4>📊 Counting</h4>
                    <div class="code-demo">
                        <pre><code><span class="code-keyword">let</span> text = <span class="code-string">"hello world"</span>;
<span class="code-keyword">let</span> vowelCount = <span class="code-number">0</span>;

<span class="code-keyword">for</span> (<span class="code-keyword">let</span> char <span class="code-keyword">of</span> text) {
    <span class="code-keyword">if</span> (<span class="code-string">"aeiou"</span>.<span class="code-keyword">includes</span>(char)) {
        vowelCount++;
    }
}</code></pre>
                    </div>
                </div>
                
                <div class="pattern-card">
                    <h4>📈 Accumulating</h4>
                    <div class="code-demo">
                        <pre><code><span class="code-keyword">let</span> numbers = [<span class="code-number">1, 2, 3, 4, 5</span>];
<span class="code-keyword">let</span> sum = <span class="code-number">0</span>;

<span class="code-keyword">for</span> (<span class="code-keyword">let</span> num <span class="code-keyword">of</span> numbers) {
    sum += num;
}
<span class="code-comment">// sum = 15</span></code></pre>
                    </div>
                </div>
                
                <div class="pattern-card">
                    <h4>🔄 Building Arrays</h4>
                    <div class="code-demo">
                        <pre><code><span class="code-keyword">let</span> squares = [];

<span class="code-keyword">for</span> (<span class="code-keyword">let</span> i = <span class="code-number">1</span>; i <= <span class="code-number">5</span>; i++) {
    squares.<span class="code-keyword">push</span>(i * i);
}
<span class="code-comment">// squares = [1, 4, 9, 16, 25]</span></code></pre>
                    </div>
                </div>
            </div>
        </section>

        <!-- Navigation -->
        <div class="navigation">
            <a href="JS03-operators-expressions.html" class="nav-btn prev">← JS03: Operators & Expressions</a>
            
            <div class="nav-center">
                <a href="index.html">📚 Course Overview</a>
            </div>
            
            <a href="JS05-functions-scope.html" class="nav-btn next">JS05: Functions & Scope →</a>
        </div>
    </div>

    <script>
        // Grade calculator
        function calculateGrade() {
            const score = parseInt(document.getElementById('scoreInput').value);
            const output = document.getElementById('gradeOutput');
            
            if (isNaN(score) || score < 0 || score > 100) {
                output.textContent = 'Please enter a valid score between 0 and 100!';
                return;
            }
            
            let grade;
            let description;
            
            if (score >= 90) {
                grade = 'A';
                description = 'Excellent! Outstanding performance! 🌟';
            } else if (score >= 80) {
                grade = 'B';
                description = 'Good job! Above average work! 👍';
            } else if (score >= 70) {
                grade = 'C';
                description = 'Average performance. Keep improving! 📈';
            } else if (score >= 60) {
                grade = 'D';
                description = 'Below average. Need more effort! 💪';
            } else {
                grade = 'F';
                description = 'Needs significant improvement! 📚';
            }
            
            output.textContent = `Score: ${score}\nGrade: ${grade}\n${description}\n\nCode logic:\nif (score >= 90) -> Grade A\nelse if (score >= 80) -> Grade B\nelse if (score >= 70) -> Grade C\nelse if (score >= 60) -> Grade D\nelse -> Grade F`;
        }

        // Pattern generator
        function generatePattern(type) {
            const limit = parseInt(document.getElementById('patternLimit').value);
            const output = document.getElementById('patternOutput');
            
            if (isNaN(limit) || limit < 1 || limit > 20) {
                output.textContent = 'Please enter a valid limit between 1 and 20!';
                return;
            }
            
            let pattern = [];
            let code = '';
            
            switch (type) {
                case 'counting':
                    for (let i = 1; i <= limit; i++) {
                        pattern.push(i);
                    }
                    code = `for (let i = 1; i <= ${limit}; i++) {\n    pattern.push(i);\n}`;
                    break;
                    
                case 'even':
                    for (let i = 2; i <= limit * 2; i += 2) {
                        if (pattern.length >= limit) break;
                        pattern.push(i);
                    }
                    code = `for (let i = 2; i <= ${limit * 2}; i += 2) {\n    pattern.push(i);\n}`;
                    break;
                    
                case 'odd':
                    for (let i = 1; i <= limit * 2; i += 2) {
                        if (pattern.length >= limit) break;
                        pattern.push(i);
                    }
                    code = `for (let i = 1; i <= ${limit * 2}; i += 2) {\n    pattern.push(i);\n}`;
                    break;
                    
                case 'fibonacci':
                    let a = 0, b = 1;
                    for (let i = 0; i < limit; i++) {
                        pattern.push(i === 0 ? a : i === 1 ? b : a + b);
                        if (i >= 1) {
                            let temp = a + b;
                            a = b;
                            b = temp;
                        }
                    }
                    code = `let a = 0, b = 1;\nfor (let i = 0; i < ${limit}; i++) {\n    // Fibonacci logic\n}`;
                    break;
            }
            
            output.textContent = `Pattern Type: ${type}\nResult: [${pattern.join(', ')}]\n\nCode:\n${code}\n\nExplanation:\nGenerated ${pattern.length} numbers using ${type} pattern.`;
        }

        // Loop visualizers
        function runForLoop() {
            const start = parseInt(document.getElementById('loopStart').value);
            const end = parseInt(document.getElementById('loopEnd').value);
            const step = parseInt(document.getElementById('loopStep').value);
            const output = document.getElementById('loopOutput');
            
            if (isNaN(start) || isNaN(end) || isNaN(step) || step === 0) {
                output.textContent = 'Please enter valid numbers for start, end, and step!';
                return;
            }
            
            let result = 'for Loop Execution:\n\n';
            let iterations = [];
            
            for (let i = start; step > 0 ? i <= end : i >= end; i += step) {
                iterations.push(i);
                if (iterations.length > 50) break; // Prevent too many iterations
            }
            
            result += `Code: for (let i = ${start}; i ${step > 0 ? '<=' : '>='} ${end}; i ${step > 0 ? '+' : '-'}= ${Math.abs(step)})\n`;
            result += `Iterations: ${iterations.length}\n`;
            result += `Values: [${iterations.join(', ')}]\n\n`;
            result += `Step by step:\n`;
            
            iterations.forEach((value, index) => {
                result += `Iteration ${index + 1}: i = ${value}\n`;
            });
            
            output.textContent = result;
        }

        function runWhileLoop() {
            const start = parseInt(document.getElementById('loopStart').value);
            const end = parseInt(document.getElementById('loopEnd').value);
            const step = parseInt(document.getElementById('loopStep').value);
            const output = document.getElementById('loopOutput');
            
            if (isNaN(start) || isNaN(end) || isNaN(step) || step === 0) {
                output.textContent = 'Please enter valid numbers!';
                return;
            }
            
            let result = 'while Loop Execution:\n\n';
            let iterations = [];
            let i = start;
            let count = 0;
            
            while ((step > 0 ? i <= end : i >= end) && count < 50) {
                iterations.push(i);
                i += step;
                count++;
            }
            
            result += `Code: let i = ${start};\nwhile (i ${step > 0 ? '<=' : '>='} ${end}) {\n    // code\n    i ${step > 0 ? '+' : '-'}= ${Math.abs(step)};\n}\n\n`;
            result += `Iterations: ${iterations.length}\n`;
            result += `Values: [${iterations.join(', ')}]\n`;
            
            output.textContent = result;
        }

        function runDoWhileLoop() {
            const start = parseInt(document.getElementById('loopStart').value);
            const end = parseInt(document.getElementById('loopEnd').value);
            const step = parseInt(document.getElementById('loopStep').value);
            const output = document.getElementById('loopOutput');
            
            let result = 'do...while Loop Execution:\n\n';
            let iterations = [];
            let i = start;
            let count = 0;
            
            do {
                iterations.push(i);
                i += step;
                count++;
            } while ((step > 0 ? i <= end : i >= end) && count < 50);
            
            result += `Code: let i = ${start};\ndo {\n    // code\n    i ${step > 0 ? '+' : '-'}= ${Math.abs(step)};\n} while (i ${step > 0 ? '<=' : '>='} ${end});\n\n`;
            result += `Iterations: ${iterations.length}\n`;
            result += `Values: [${iterations.join(', ')}]\n`;
            result += `\nNote: do...while always executes at least once!`;
            
            output.textContent = result;
        }

        // Welcome message
        console.log('🔄 Welcome to JS04: Conditionals & Loops!');
        console.log('🎯 Practice with the interactive demos!');

        // Demonstrate loops in console
        console.log('📊 Loop Examples:');
        console.log('for loop counting 1 to 3:');
        for (let i = 1; i <= 3; i++) {
            console.log(`  ${i}`);
        }

        console.log('while loop example:');
        let count = 0;
        while (count < 3) {
            console.log(`  while count: ${count}`);
            count++;
        }

        // Mark lesson as started
        localStorage.setItem('js04_started', Date.now());
        localStorage.setItem('js_progress_js04', 'true');
    </script>
</body>
</html>
